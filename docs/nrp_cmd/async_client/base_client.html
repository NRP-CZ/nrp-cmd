<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>nrp_cmd.async_client.base_client API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../async_client.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;nrp_cmd.async_client</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#RecordStatus">RecordStatus</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#RecordStatus.ALL">ALL</a>
                        </li>
                        <li>
                                <a class="variable" href="#RecordStatus.PUBLISHED">PUBLISHED</a>
                        </li>
                        <li>
                                <a class="variable" href="#RecordStatus.DRAFT">DRAFT</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AsyncRecordsClient">AsyncRecordsClient</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AsyncRecordsClient.__init__">AsyncRecordsClient</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.with_model">with_model</a>
                        </li>
                        <li>
                                <a class="variable" href="#AsyncRecordsClient.published_records">published_records</a>
                        </li>
                        <li>
                                <a class="variable" href="#AsyncRecordsClient.draft_records">draft_records</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.create">create</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.read">read</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.patch">patch</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.delete">delete</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.search">search</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.next_page">next_page</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.previous_page">previous_page</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRecordsClient.scan">scan</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AsyncRepositoryClient">AsyncRepositoryClient</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AsyncRepositoryClient.__init__">AsyncRepositoryClient</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRepositoryClient.can_handle_repository">can_handle_repository</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRepositoryClient.from_configuration">from_configuration</a>
                        </li>
                        <li>
                                <a class="function" href="#AsyncRepositoryClient.get_repository_info">get_repository_info</a>
                        </li>
                        <li>
                                <a class="variable" href="#AsyncRepositoryClient.records">records</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../nrp_cmd.html">nrp_cmd</a><wbr>.<a href="./../async_client.html">async_client</a><wbr>.base_client    </h1>

                        <div class="docstring"><p>Async client for NRP repositories.</p>
</div>

                        <input id="mod-base_client-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-base_client-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;Async client for NRP repositories.&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="c1"># TODO: can not do from __future__ import annotations here</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="c1"># as it is not compatible with attrs trying to resolve the </span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="c1"># type annotations in runtime</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">collections.abc</span><span class="w"> </span><span class="kn">import</span> <span class="n">AsyncIterator</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">contextlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbstractAsyncContextManager</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">Self</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">yarl</span><span class="w"> </span><span class="kn">import</span> <span class="n">URL</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">..config</span><span class="w"> </span><span class="kn">import</span> <span class="n">RepositoryConfig</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">..types.info</span><span class="w"> </span><span class="kn">import</span> <span class="n">RepositoryInfo</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">..types.records</span><span class="w"> </span><span class="kn">import</span> <span class="n">Record</span><span class="p">,</span> <span class="n">RecordId</span><span class="p">,</span> <span class="n">RecordList</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.connection.limiter</span><span class="w"> </span><span class="kn">import</span> <span class="n">Limiter</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RecordStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Selector for records.&quot;&quot;&quot;</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>    <span class="n">ALL</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;All records&quot;&quot;&quot;</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>    <span class="n">PUBLISHED</span> <span class="o">=</span> <span class="s2">&quot;published&quot;</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Published records&quot;&quot;&quot;</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>    <span class="n">DRAFT</span> <span class="o">=</span> <span class="s2">&quot;draft&quot;</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Draft records&quot;&quot;&quot;</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AsyncRecordsClient</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Client class for access to records.&quot;&quot;&quot;</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>    
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">with_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to the given model.&quot;&quot;&quot;</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>        <span class="o">...</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>        
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>    <span class="nd">@property</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">published_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to published records.&quot;&quot;&quot;</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>        <span class="o">...</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>        
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="nd">@property</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draft_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to draft records.&quot;&quot;&quot;</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>        <span class="o">...</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>    
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>        <span class="n">community</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>        <span class="n">workflow</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>        <span class="n">idempotent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>        <span class="n">files_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new record in the repository.</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">        :param data:            the metadata of the record</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="sd">        :param community:       community in which the record should be created</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span class="sd">        :param workflow:        the workflow to use for the record, if not provided</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="sd">                                the default workflow of the community is used</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="sd">        :param idempotent:      if True, the operation is idempotent and can be retried on network errors.</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="sd">                                Use only if you know that the operation is idempotent, for example that</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">                                you use PID generator that takes the persistent identifier from the data.</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="sd">        :return:                the created record</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>        <span class="o">...</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>        <span class="n">record_id</span><span class="p">:</span> <span class="n">RecordId</span><span class="p">,</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>        <span class="o">**</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a record from the repository. Please provide either record_id or record_url, not both.</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">        :param record_id:       the id of the record. Could be either pid or url</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="sd">        :param model:           optional model of the record</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="sd">        :param query:           extra arguments to read, repository specific</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a><span class="sd">        :return:                the record</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="o">...</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>        <span class="n">record</span><span class="p">:</span> <span class="n">Record</span><span class="p">,</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>        <span class="n">verify_version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a record in the repository.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="sd">        </span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="sd">        The record must have an id and optionally</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="sd">        an etag. If the etag is not provided, the record is updated without checking</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">        the etag. If the etag is provided, the record is updated only if the etag matches</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">        the current etag of the record in the repository.</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a><span class="sd">        </span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a><span class="sd">        An updated version, as stored in the repository, is returned.</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a><span class="sd">        </span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a><span class="sd">        :param record: record that will be stored to the server</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a><span class="sd">        :param verify_version: if set to true, verify that the record </span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a><span class="sd">                               on the server has not been modified in the meantime</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="o">...</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">patch</span><span class="p">(</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>        <span class="n">record_id</span><span class="p">:</span> <span class="n">RecordId</span><span class="p">,</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>        <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>        <span class="n">etag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Path a record in the repository.</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="sd">        </span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">        The record is deep-patched with the metadata, using the following algorithm:</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a><span class="sd">        * if a key in a dictionary is called &#39;replace:&lt;key&gt;&#39;, the whole content will be replaced.</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="sd">        * dictionaries: are merged, with primitive values from metadata overriding </span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a><span class="sd">          values in the record. None in the metadata removes the key from the record</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="sd">        * arrays: values from the metadata will be added at the end.</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">        </span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span class="sd">        :param record_id: identification of the record</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a><span class="sd">        :param metadata: dictionary containing the metadata</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a><span class="sd">        :param etag: if set, check that we are patching this etag</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>        <span class="o">...</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="n">record_id_or_record</span> <span class="p">:</span> <span class="n">RecordId</span> <span class="o">|</span> <span class="n">Record</span><span class="p">,</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>        <span class="n">etag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a record inside the repository.</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a><span class="sd">        </span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a><span class="sd">        :param record_id: identification of the record. If record_id is passed, you can</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a><span class="sd">                          specify the etag as well</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="sd">        :param record: record downloaded from the repository</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="sd">        :param etag: if record_id is specified, delete the record only if the version matches</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>        <span class="o">...</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>        <span class="n">page</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>        <span class="n">size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>        <span class="o">**</span><span class="n">facets</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Search for records in the repository.&quot;&quot;&quot;</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>        <span class="o">...</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">next_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">record_list</span><span class="p">:</span> <span class="n">RecordList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the next page of records.&quot;&quot;&quot;</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>        <span class="o">...</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>        
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">previous_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">record_list</span><span class="p">:</span> <span class="n">RecordList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the previous page of records.&quot;&quot;&quot;</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>        <span class="o">...</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>    
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">scan</span><span class="p">(</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>        <span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>        <span class="o">**</span><span class="n">facets</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AbstractAsyncContextManager</span><span class="p">[</span><span class="n">AsyncIterator</span><span class="p">[</span><span class="n">Record</span><span class="p">]]:</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scan all the records in the repository.</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a><span class="sd">        </span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a><span class="sd">        Tries to return all matched records in a consistent manner </span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a><span class="sd">        (using snapshots if they are available), but this behaviour is not guaranteed.</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a><span class="sd">        </span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a><span class="sd">        The implementation might rely on specific sorting, so you should not modify it</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a><span class="sd">        unless you know what you are doing.</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a><span class="sd">        </span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a><span class="sd">        Usage:</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a><span class="sd">        </span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="sd">        ```</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="sd">        async with client.scan(...) as records:</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="sd">            async for record in records:</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a><span class="sd">                print(record)</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a><span class="sd">        ```</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>        <span class="o">...</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AsyncRepositoryClient</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;An abstract client for NRP repositories.</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a><span class="sd">    </span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span class="sd">    Usually, subclasses of this class are not instantiated directly in your code. </span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a><span class="sd">    To get an instance of a repository, use the high-level method `get_async_client`:</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="sd">       </span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a><span class="sd">    ```</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a><span class="sd">    my_client = await async_client(config?, url=url, refresh=False/True)</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a><span class="sd">    my_client = await async_client(config?, alias=alias, refresh=False/True)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a><span class="sd">    ```</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a><span class="sd">    </span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a><span class="sd">    and then use the instance.</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>            
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>    <span class="c1"># region info endpoint</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">can_handle_repository</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="n">URL</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verify_tls</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">URL</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return if this client can handle a repository that contains the passed URL.</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="sd">        </span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a><span class="sd">        This method can make an http request or use any means to check if the repository</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a><span class="sd">        at the URL can be handled by this client.</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a><span class="sd">        </span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a><span class="sd">        :param url: any url within the repository (root, record api, html, documentation</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a><span class="sd">        if running on the same host, ...)</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a><span class="sd">        :param verify_tls: whether to verify tls (should be switched on for production)</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a><span class="sd">        :return: API url of the server or None if this client can not handle the repository</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>        <span class="o">...</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">from_configuration</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> 
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>        <span class="n">config</span><span class="p">:</span> <span class="n">RepositoryConfig</span><span class="p">,</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>        <span class="n">limiter</span><span class="p">:</span> <span class="n">Limiter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>        <span class="n">extra_tokens</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a client from the given configuration.</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a><span class="sd">        </span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a><span class="sd">        :param config: the configuration for the repository</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a><span class="sd">        :param refresh: refresh the configuration by calling get_repository_info</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>        <span class="o">...</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>        
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_repository_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RepositoryInfo</span><span class="p">:</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the repository.</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a><span class="sd">        </span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a><span class="sd">        This call is cached inside the RepositoryConfig instance.</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a><span class="sd">        </span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a><span class="sd">        :param refresh: refresh the info from the server</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>        <span class="o">...</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>    <span class="c1"># endregion</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>    <span class="nd">@property</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncRecordsClient</span><span class="p">:</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return client for accessing records.&quot;&quot;&quot;</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="o">...</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>    <span class="c1"># region records endpoint</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>        
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>    <span class="c1"># endregion</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>    
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>    <span class="c1"># region files endpoint</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>    
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>    
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>    
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>    <span class="c1"># endregion</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>    
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>    <span class="c1"># region requests endpoint</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>    
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>    <span class="c1"># endregion</span>
</span></pre></div>


            </section>
                <section id="RecordStatus">
                            <input id="RecordStatus-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RecordStatus</span><wbr>(<span class="base">enum.Enum</span>):

                <label class="view-source-button" for="RecordStatus-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RecordStatus"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RecordStatus-20"><a href="#RecordStatus-20"><span class="linenos">20</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RecordStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="RecordStatus-21"><a href="#RecordStatus-21"><span class="linenos">21</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Selector for records.&quot;&quot;&quot;</span>
</span><span id="RecordStatus-22"><a href="#RecordStatus-22"><span class="linenos">22</span></a>
</span><span id="RecordStatus-23"><a href="#RecordStatus-23"><span class="linenos">23</span></a>    <span class="n">ALL</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>
</span><span id="RecordStatus-24"><a href="#RecordStatus-24"><span class="linenos">24</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;All records&quot;&quot;&quot;</span>
</span><span id="RecordStatus-25"><a href="#RecordStatus-25"><span class="linenos">25</span></a>
</span><span id="RecordStatus-26"><a href="#RecordStatus-26"><span class="linenos">26</span></a>    <span class="n">PUBLISHED</span> <span class="o">=</span> <span class="s2">&quot;published&quot;</span>
</span><span id="RecordStatus-27"><a href="#RecordStatus-27"><span class="linenos">27</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Published records&quot;&quot;&quot;</span>
</span><span id="RecordStatus-28"><a href="#RecordStatus-28"><span class="linenos">28</span></a>
</span><span id="RecordStatus-29"><a href="#RecordStatus-29"><span class="linenos">29</span></a>    <span class="n">DRAFT</span> <span class="o">=</span> <span class="s2">&quot;draft&quot;</span>
</span><span id="RecordStatus-30"><a href="#RecordStatus-30"><span class="linenos">30</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Draft records&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Selector for records.</p>
</div>


                            <div id="RecordStatus.ALL" class="classattr">
                                <div class="attr variable">
            <span class="name">ALL</span>        =
<span class="default_value">&lt;<a href="#RecordStatus.ALL">RecordStatus.ALL</a>: &#39;all&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#RecordStatus.ALL"></a>
    
            <div class="docstring"><p>All records</p>
</div>


                            </div>
                            <div id="RecordStatus.PUBLISHED" class="classattr">
                                <div class="attr variable">
            <span class="name">PUBLISHED</span>        =
<span class="default_value">&lt;<a href="#RecordStatus.PUBLISHED">RecordStatus.PUBLISHED</a>: &#39;published&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#RecordStatus.PUBLISHED"></a>
    
            <div class="docstring"><p>Published records</p>
</div>


                            </div>
                            <div id="RecordStatus.DRAFT" class="classattr">
                                <div class="attr variable">
            <span class="name">DRAFT</span>        =
<span class="default_value">&lt;<a href="#RecordStatus.DRAFT">RecordStatus.DRAFT</a>: &#39;draft&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#RecordStatus.DRAFT"></a>
    
            <div class="docstring"><p>Draft records</p>
</div>


                            </div>
                </section>
                <section id="AsyncRecordsClient">
                            <input id="AsyncRecordsClient-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AsyncRecordsClient</span><wbr>(<span class="base">typing.Protocol</span>):

                <label class="view-source-button" for="AsyncRecordsClient-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient-33"><a href="#AsyncRecordsClient-33"><span class="linenos"> 33</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AsyncRecordsClient</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span><span id="AsyncRecordsClient-34"><a href="#AsyncRecordsClient-34"><span class="linenos"> 34</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Client class for access to records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-35"><a href="#AsyncRecordsClient-35"><span class="linenos"> 35</span></a>    
</span><span id="AsyncRecordsClient-36"><a href="#AsyncRecordsClient-36"><span class="linenos"> 36</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">with_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-37"><a href="#AsyncRecordsClient-37"><span class="linenos"> 37</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to the given model.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-38"><a href="#AsyncRecordsClient-38"><span class="linenos"> 38</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-39"><a href="#AsyncRecordsClient-39"><span class="linenos"> 39</span></a>        
</span><span id="AsyncRecordsClient-40"><a href="#AsyncRecordsClient-40"><span class="linenos"> 40</span></a>    <span class="nd">@property</span>
</span><span id="AsyncRecordsClient-41"><a href="#AsyncRecordsClient-41"><span class="linenos"> 41</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">published_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-42"><a href="#AsyncRecordsClient-42"><span class="linenos"> 42</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to published records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-43"><a href="#AsyncRecordsClient-43"><span class="linenos"> 43</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-44"><a href="#AsyncRecordsClient-44"><span class="linenos"> 44</span></a>        
</span><span id="AsyncRecordsClient-45"><a href="#AsyncRecordsClient-45"><span class="linenos"> 45</span></a>    <span class="nd">@property</span>
</span><span id="AsyncRecordsClient-46"><a href="#AsyncRecordsClient-46"><span class="linenos"> 46</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draft_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-47"><a href="#AsyncRecordsClient-47"><span class="linenos"> 47</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to draft records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-48"><a href="#AsyncRecordsClient-48"><span class="linenos"> 48</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-49"><a href="#AsyncRecordsClient-49"><span class="linenos"> 49</span></a>    
</span><span id="AsyncRecordsClient-50"><a href="#AsyncRecordsClient-50"><span class="linenos"> 50</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
</span><span id="AsyncRecordsClient-51"><a href="#AsyncRecordsClient-51"><span class="linenos"> 51</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-52"><a href="#AsyncRecordsClient-52"><span class="linenos"> 52</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
</span><span id="AsyncRecordsClient-53"><a href="#AsyncRecordsClient-53"><span class="linenos"> 53</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-54"><a href="#AsyncRecordsClient-54"><span class="linenos"> 54</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-55"><a href="#AsyncRecordsClient-55"><span class="linenos"> 55</span></a>        <span class="n">community</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-56"><a href="#AsyncRecordsClient-56"><span class="linenos"> 56</span></a>        <span class="n">workflow</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-57"><a href="#AsyncRecordsClient-57"><span class="linenos"> 57</span></a>        <span class="n">idempotent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-58"><a href="#AsyncRecordsClient-58"><span class="linenos"> 58</span></a>        <span class="n">files_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-59"><a href="#AsyncRecordsClient-59"><span class="linenos"> 59</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-60"><a href="#AsyncRecordsClient-60"><span class="linenos"> 60</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new record in the repository.</span>
</span><span id="AsyncRecordsClient-61"><a href="#AsyncRecordsClient-61"><span class="linenos"> 61</span></a>
</span><span id="AsyncRecordsClient-62"><a href="#AsyncRecordsClient-62"><span class="linenos"> 62</span></a><span class="sd">        :param data:            the metadata of the record</span>
</span><span id="AsyncRecordsClient-63"><a href="#AsyncRecordsClient-63"><span class="linenos"> 63</span></a><span class="sd">        :param community:       community in which the record should be created</span>
</span><span id="AsyncRecordsClient-64"><a href="#AsyncRecordsClient-64"><span class="linenos"> 64</span></a><span class="sd">        :param workflow:        the workflow to use for the record, if not provided</span>
</span><span id="AsyncRecordsClient-65"><a href="#AsyncRecordsClient-65"><span class="linenos"> 65</span></a><span class="sd">                                the default workflow of the community is used</span>
</span><span id="AsyncRecordsClient-66"><a href="#AsyncRecordsClient-66"><span class="linenos"> 66</span></a><span class="sd">        :param idempotent:      if True, the operation is idempotent and can be retried on network errors.</span>
</span><span id="AsyncRecordsClient-67"><a href="#AsyncRecordsClient-67"><span class="linenos"> 67</span></a><span class="sd">                                Use only if you know that the operation is idempotent, for example that</span>
</span><span id="AsyncRecordsClient-68"><a href="#AsyncRecordsClient-68"><span class="linenos"> 68</span></a><span class="sd">                                you use PID generator that takes the persistent identifier from the data.</span>
</span><span id="AsyncRecordsClient-69"><a href="#AsyncRecordsClient-69"><span class="linenos"> 69</span></a><span class="sd">        :return:                the created record</span>
</span><span id="AsyncRecordsClient-70"><a href="#AsyncRecordsClient-70"><span class="linenos"> 70</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-71"><a href="#AsyncRecordsClient-71"><span class="linenos"> 71</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-72"><a href="#AsyncRecordsClient-72"><span class="linenos"> 72</span></a>
</span><span id="AsyncRecordsClient-73"><a href="#AsyncRecordsClient-73"><span class="linenos"> 73</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span>
</span><span id="AsyncRecordsClient-74"><a href="#AsyncRecordsClient-74"><span class="linenos"> 74</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-75"><a href="#AsyncRecordsClient-75"><span class="linenos"> 75</span></a>        <span class="n">record_id</span><span class="p">:</span> <span class="n">RecordId</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-76"><a href="#AsyncRecordsClient-76"><span class="linenos"> 76</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-77"><a href="#AsyncRecordsClient-77"><span class="linenos"> 77</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-78"><a href="#AsyncRecordsClient-78"><span class="linenos"> 78</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-79"><a href="#AsyncRecordsClient-79"><span class="linenos"> 79</span></a>        <span class="o">**</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="AsyncRecordsClient-80"><a href="#AsyncRecordsClient-80"><span class="linenos"> 80</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-81"><a href="#AsyncRecordsClient-81"><span class="linenos"> 81</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a record from the repository. Please provide either record_id or record_url, not both.</span>
</span><span id="AsyncRecordsClient-82"><a href="#AsyncRecordsClient-82"><span class="linenos"> 82</span></a>
</span><span id="AsyncRecordsClient-83"><a href="#AsyncRecordsClient-83"><span class="linenos"> 83</span></a><span class="sd">        :param record_id:       the id of the record. Could be either pid or url</span>
</span><span id="AsyncRecordsClient-84"><a href="#AsyncRecordsClient-84"><span class="linenos"> 84</span></a><span class="sd">        :param model:           optional model of the record</span>
</span><span id="AsyncRecordsClient-85"><a href="#AsyncRecordsClient-85"><span class="linenos"> 85</span></a><span class="sd">        :param query:           extra arguments to read, repository specific</span>
</span><span id="AsyncRecordsClient-86"><a href="#AsyncRecordsClient-86"><span class="linenos"> 86</span></a><span class="sd">        :return:                the record</span>
</span><span id="AsyncRecordsClient-87"><a href="#AsyncRecordsClient-87"><span class="linenos"> 87</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-88"><a href="#AsyncRecordsClient-88"><span class="linenos"> 88</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-89"><a href="#AsyncRecordsClient-89"><span class="linenos"> 89</span></a>
</span><span id="AsyncRecordsClient-90"><a href="#AsyncRecordsClient-90"><span class="linenos"> 90</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span>
</span><span id="AsyncRecordsClient-91"><a href="#AsyncRecordsClient-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-92"><a href="#AsyncRecordsClient-92"><span class="linenos"> 92</span></a>        <span class="n">record</span><span class="p">:</span> <span class="n">Record</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-93"><a href="#AsyncRecordsClient-93"><span class="linenos"> 93</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-94"><a href="#AsyncRecordsClient-94"><span class="linenos"> 94</span></a>        <span class="n">verify_version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="AsyncRecordsClient-95"><a href="#AsyncRecordsClient-95"><span class="linenos"> 95</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-96"><a href="#AsyncRecordsClient-96"><span class="linenos"> 96</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a record in the repository.</span>
</span><span id="AsyncRecordsClient-97"><a href="#AsyncRecordsClient-97"><span class="linenos"> 97</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-98"><a href="#AsyncRecordsClient-98"><span class="linenos"> 98</span></a><span class="sd">        The record must have an id and optionally</span>
</span><span id="AsyncRecordsClient-99"><a href="#AsyncRecordsClient-99"><span class="linenos"> 99</span></a><span class="sd">        an etag. If the etag is not provided, the record is updated without checking</span>
</span><span id="AsyncRecordsClient-100"><a href="#AsyncRecordsClient-100"><span class="linenos">100</span></a><span class="sd">        the etag. If the etag is provided, the record is updated only if the etag matches</span>
</span><span id="AsyncRecordsClient-101"><a href="#AsyncRecordsClient-101"><span class="linenos">101</span></a><span class="sd">        the current etag of the record in the repository.</span>
</span><span id="AsyncRecordsClient-102"><a href="#AsyncRecordsClient-102"><span class="linenos">102</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-103"><a href="#AsyncRecordsClient-103"><span class="linenos">103</span></a><span class="sd">        An updated version, as stored in the repository, is returned.</span>
</span><span id="AsyncRecordsClient-104"><a href="#AsyncRecordsClient-104"><span class="linenos">104</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-105"><a href="#AsyncRecordsClient-105"><span class="linenos">105</span></a><span class="sd">        :param record: record that will be stored to the server</span>
</span><span id="AsyncRecordsClient-106"><a href="#AsyncRecordsClient-106"><span class="linenos">106</span></a><span class="sd">        :param verify_version: if set to true, verify that the record </span>
</span><span id="AsyncRecordsClient-107"><a href="#AsyncRecordsClient-107"><span class="linenos">107</span></a><span class="sd">                               on the server has not been modified in the meantime</span>
</span><span id="AsyncRecordsClient-108"><a href="#AsyncRecordsClient-108"><span class="linenos">108</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-109"><a href="#AsyncRecordsClient-109"><span class="linenos">109</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-110"><a href="#AsyncRecordsClient-110"><span class="linenos">110</span></a>
</span><span id="AsyncRecordsClient-111"><a href="#AsyncRecordsClient-111"><span class="linenos">111</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">patch</span><span class="p">(</span>
</span><span id="AsyncRecordsClient-112"><a href="#AsyncRecordsClient-112"><span class="linenos">112</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-113"><a href="#AsyncRecordsClient-113"><span class="linenos">113</span></a>        <span class="n">record_id</span><span class="p">:</span> <span class="n">RecordId</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-114"><a href="#AsyncRecordsClient-114"><span class="linenos">114</span></a>        <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
</span><span id="AsyncRecordsClient-115"><a href="#AsyncRecordsClient-115"><span class="linenos">115</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-116"><a href="#AsyncRecordsClient-116"><span class="linenos">116</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-117"><a href="#AsyncRecordsClient-117"><span class="linenos">117</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-118"><a href="#AsyncRecordsClient-118"><span class="linenos">118</span></a>        <span class="n">etag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-119"><a href="#AsyncRecordsClient-119"><span class="linenos">119</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-120"><a href="#AsyncRecordsClient-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Path a record in the repository.</span>
</span><span id="AsyncRecordsClient-121"><a href="#AsyncRecordsClient-121"><span class="linenos">121</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-122"><a href="#AsyncRecordsClient-122"><span class="linenos">122</span></a><span class="sd">        The record is deep-patched with the metadata, using the following algorithm:</span>
</span><span id="AsyncRecordsClient-123"><a href="#AsyncRecordsClient-123"><span class="linenos">123</span></a><span class="sd">        * if a key in a dictionary is called &#39;replace:&lt;key&gt;&#39;, the whole content will be replaced.</span>
</span><span id="AsyncRecordsClient-124"><a href="#AsyncRecordsClient-124"><span class="linenos">124</span></a><span class="sd">        * dictionaries: are merged, with primitive values from metadata overriding </span>
</span><span id="AsyncRecordsClient-125"><a href="#AsyncRecordsClient-125"><span class="linenos">125</span></a><span class="sd">          values in the record. None in the metadata removes the key from the record</span>
</span><span id="AsyncRecordsClient-126"><a href="#AsyncRecordsClient-126"><span class="linenos">126</span></a><span class="sd">        * arrays: values from the metadata will be added at the end.</span>
</span><span id="AsyncRecordsClient-127"><a href="#AsyncRecordsClient-127"><span class="linenos">127</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-128"><a href="#AsyncRecordsClient-128"><span class="linenos">128</span></a><span class="sd">        :param record_id: identification of the record</span>
</span><span id="AsyncRecordsClient-129"><a href="#AsyncRecordsClient-129"><span class="linenos">129</span></a><span class="sd">        :param metadata: dictionary containing the metadata</span>
</span><span id="AsyncRecordsClient-130"><a href="#AsyncRecordsClient-130"><span class="linenos">130</span></a><span class="sd">        :param etag: if set, check that we are patching this etag</span>
</span><span id="AsyncRecordsClient-131"><a href="#AsyncRecordsClient-131"><span class="linenos">131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-132"><a href="#AsyncRecordsClient-132"><span class="linenos">132</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-133"><a href="#AsyncRecordsClient-133"><span class="linenos">133</span></a>
</span><span id="AsyncRecordsClient-134"><a href="#AsyncRecordsClient-134"><span class="linenos">134</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span>
</span><span id="AsyncRecordsClient-135"><a href="#AsyncRecordsClient-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-136"><a href="#AsyncRecordsClient-136"><span class="linenos">136</span></a>        <span class="n">record_id_or_record</span> <span class="p">:</span> <span class="n">RecordId</span> <span class="o">|</span> <span class="n">Record</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-137"><a href="#AsyncRecordsClient-137"><span class="linenos">137</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-138"><a href="#AsyncRecordsClient-138"><span class="linenos">138</span></a>        <span class="n">etag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-139"><a href="#AsyncRecordsClient-139"><span class="linenos">139</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-140"><a href="#AsyncRecordsClient-140"><span class="linenos">140</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-141"><a href="#AsyncRecordsClient-141"><span class="linenos">141</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a record inside the repository.</span>
</span><span id="AsyncRecordsClient-142"><a href="#AsyncRecordsClient-142"><span class="linenos">142</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-143"><a href="#AsyncRecordsClient-143"><span class="linenos">143</span></a><span class="sd">        :param record_id: identification of the record. If record_id is passed, you can</span>
</span><span id="AsyncRecordsClient-144"><a href="#AsyncRecordsClient-144"><span class="linenos">144</span></a><span class="sd">                          specify the etag as well</span>
</span><span id="AsyncRecordsClient-145"><a href="#AsyncRecordsClient-145"><span class="linenos">145</span></a><span class="sd">        :param record: record downloaded from the repository</span>
</span><span id="AsyncRecordsClient-146"><a href="#AsyncRecordsClient-146"><span class="linenos">146</span></a><span class="sd">        :param etag: if record_id is specified, delete the record only if the version matches</span>
</span><span id="AsyncRecordsClient-147"><a href="#AsyncRecordsClient-147"><span class="linenos">147</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-148"><a href="#AsyncRecordsClient-148"><span class="linenos">148</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-149"><a href="#AsyncRecordsClient-149"><span class="linenos">149</span></a>
</span><span id="AsyncRecordsClient-150"><a href="#AsyncRecordsClient-150"><span class="linenos">150</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span>
</span><span id="AsyncRecordsClient-151"><a href="#AsyncRecordsClient-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-152"><a href="#AsyncRecordsClient-152"><span class="linenos">152</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-153"><a href="#AsyncRecordsClient-153"><span class="linenos">153</span></a>        <span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-154"><a href="#AsyncRecordsClient-154"><span class="linenos">154</span></a>        <span class="n">page</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-155"><a href="#AsyncRecordsClient-155"><span class="linenos">155</span></a>        <span class="n">size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-156"><a href="#AsyncRecordsClient-156"><span class="linenos">156</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-157"><a href="#AsyncRecordsClient-157"><span class="linenos">157</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-158"><a href="#AsyncRecordsClient-158"><span class="linenos">158</span></a>        <span class="o">**</span><span class="n">facets</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-159"><a href="#AsyncRecordsClient-159"><span class="linenos">159</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-160"><a href="#AsyncRecordsClient-160"><span class="linenos">160</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Search for records in the repository.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-161"><a href="#AsyncRecordsClient-161"><span class="linenos">161</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-162"><a href="#AsyncRecordsClient-162"><span class="linenos">162</span></a>
</span><span id="AsyncRecordsClient-163"><a href="#AsyncRecordsClient-163"><span class="linenos">163</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">next_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">record_list</span><span class="p">:</span> <span class="n">RecordList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-164"><a href="#AsyncRecordsClient-164"><span class="linenos">164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the next page of records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-165"><a href="#AsyncRecordsClient-165"><span class="linenos">165</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-166"><a href="#AsyncRecordsClient-166"><span class="linenos">166</span></a>        
</span><span id="AsyncRecordsClient-167"><a href="#AsyncRecordsClient-167"><span class="linenos">167</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">previous_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">record_list</span><span class="p">:</span> <span class="n">RecordList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="AsyncRecordsClient-168"><a href="#AsyncRecordsClient-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the previous page of records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-169"><a href="#AsyncRecordsClient-169"><span class="linenos">169</span></a>        <span class="o">...</span>
</span><span id="AsyncRecordsClient-170"><a href="#AsyncRecordsClient-170"><span class="linenos">170</span></a>    
</span><span id="AsyncRecordsClient-171"><a href="#AsyncRecordsClient-171"><span class="linenos">171</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">scan</span><span class="p">(</span>
</span><span id="AsyncRecordsClient-172"><a href="#AsyncRecordsClient-172"><span class="linenos">172</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-173"><a href="#AsyncRecordsClient-173"><span class="linenos">173</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-174"><a href="#AsyncRecordsClient-174"><span class="linenos">174</span></a>        <span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-175"><a href="#AsyncRecordsClient-175"><span class="linenos">175</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-176"><a href="#AsyncRecordsClient-176"><span class="linenos">176</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-177"><a href="#AsyncRecordsClient-177"><span class="linenos">177</span></a>        <span class="o">**</span><span class="n">facets</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AsyncRecordsClient-178"><a href="#AsyncRecordsClient-178"><span class="linenos">178</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AbstractAsyncContextManager</span><span class="p">[</span><span class="n">AsyncIterator</span><span class="p">[</span><span class="n">Record</span><span class="p">]]:</span>
</span><span id="AsyncRecordsClient-179"><a href="#AsyncRecordsClient-179"><span class="linenos">179</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scan all the records in the repository.</span>
</span><span id="AsyncRecordsClient-180"><a href="#AsyncRecordsClient-180"><span class="linenos">180</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-181"><a href="#AsyncRecordsClient-181"><span class="linenos">181</span></a><span class="sd">        Tries to return all matched records in a consistent manner </span>
</span><span id="AsyncRecordsClient-182"><a href="#AsyncRecordsClient-182"><span class="linenos">182</span></a><span class="sd">        (using snapshots if they are available), but this behaviour is not guaranteed.</span>
</span><span id="AsyncRecordsClient-183"><a href="#AsyncRecordsClient-183"><span class="linenos">183</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-184"><a href="#AsyncRecordsClient-184"><span class="linenos">184</span></a><span class="sd">        The implementation might rely on specific sorting, so you should not modify it</span>
</span><span id="AsyncRecordsClient-185"><a href="#AsyncRecordsClient-185"><span class="linenos">185</span></a><span class="sd">        unless you know what you are doing.</span>
</span><span id="AsyncRecordsClient-186"><a href="#AsyncRecordsClient-186"><span class="linenos">186</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-187"><a href="#AsyncRecordsClient-187"><span class="linenos">187</span></a><span class="sd">        Usage:</span>
</span><span id="AsyncRecordsClient-188"><a href="#AsyncRecordsClient-188"><span class="linenos">188</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient-189"><a href="#AsyncRecordsClient-189"><span class="linenos">189</span></a><span class="sd">        ```</span>
</span><span id="AsyncRecordsClient-190"><a href="#AsyncRecordsClient-190"><span class="linenos">190</span></a><span class="sd">        async with client.scan(...) as records:</span>
</span><span id="AsyncRecordsClient-191"><a href="#AsyncRecordsClient-191"><span class="linenos">191</span></a><span class="sd">            async for record in records:</span>
</span><span id="AsyncRecordsClient-192"><a href="#AsyncRecordsClient-192"><span class="linenos">192</span></a><span class="sd">                print(record)</span>
</span><span id="AsyncRecordsClient-193"><a href="#AsyncRecordsClient-193"><span class="linenos">193</span></a><span class="sd">        ```</span>
</span><span id="AsyncRecordsClient-194"><a href="#AsyncRecordsClient-194"><span class="linenos">194</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient-195"><a href="#AsyncRecordsClient-195"><span class="linenos">195</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Client class for access to records.</p>
</div>


                            <div id="AsyncRecordsClient.__init__" class="classattr">
                                        <input id="AsyncRecordsClient.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AsyncRecordsClient</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="AsyncRecordsClient.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.__init__-1767"><a href="#AsyncRecordsClient.__init__-1767"><span class="linenos">1767</span></a><span class="k">def</span><span class="w"> </span><span class="nf">_no_init_or_replace_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="AsyncRecordsClient.__init__-1768"><a href="#AsyncRecordsClient.__init__-1768"><span class="linenos">1768</span></a>    <span class="bp">cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="AsyncRecordsClient.__init__-1769"><a href="#AsyncRecordsClient.__init__-1769"><span class="linenos">1769</span></a>
</span><span id="AsyncRecordsClient.__init__-1770"><a href="#AsyncRecordsClient.__init__-1770"><span class="linenos">1770</span></a>    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_protocol</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.__init__-1771"><a href="#AsyncRecordsClient.__init__-1771"><span class="linenos">1771</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Protocols cannot be instantiated&#39;</span><span class="p">)</span>
</span><span id="AsyncRecordsClient.__init__-1772"><a href="#AsyncRecordsClient.__init__-1772"><span class="linenos">1772</span></a>
</span><span id="AsyncRecordsClient.__init__-1773"><a href="#AsyncRecordsClient.__init__-1773"><span class="linenos">1773</span></a>    <span class="c1"># Already using a custom `__init__`. No need to calculate correct</span>
</span><span id="AsyncRecordsClient.__init__-1774"><a href="#AsyncRecordsClient.__init__-1774"><span class="linenos">1774</span></a>    <span class="c1"># `__init__` to call. This can lead to RecursionError. See bpo-45121.</span>
</span><span id="AsyncRecordsClient.__init__-1775"><a href="#AsyncRecordsClient.__init__-1775"><span class="linenos">1775</span></a>    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_no_init_or_replace_init</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.__init__-1776"><a href="#AsyncRecordsClient.__init__-1776"><span class="linenos">1776</span></a>        <span class="k">return</span>
</span><span id="AsyncRecordsClient.__init__-1777"><a href="#AsyncRecordsClient.__init__-1777"><span class="linenos">1777</span></a>
</span><span id="AsyncRecordsClient.__init__-1778"><a href="#AsyncRecordsClient.__init__-1778"><span class="linenos">1778</span></a>    <span class="c1"># Initially, `__init__` of a protocol subclass is set to `_no_init_or_replace_init`.</span>
</span><span id="AsyncRecordsClient.__init__-1779"><a href="#AsyncRecordsClient.__init__-1779"><span class="linenos">1779</span></a>    <span class="c1"># The first instantiation of the subclass will call `_no_init_or_replace_init` which</span>
</span><span id="AsyncRecordsClient.__init__-1780"><a href="#AsyncRecordsClient.__init__-1780"><span class="linenos">1780</span></a>    <span class="c1"># searches for a proper new `__init__` in the MRO. The new `__init__`</span>
</span><span id="AsyncRecordsClient.__init__-1781"><a href="#AsyncRecordsClient.__init__-1781"><span class="linenos">1781</span></a>    <span class="c1"># replaces the subclass&#39; old `__init__` (ie `_no_init_or_replace_init`). Subsequent</span>
</span><span id="AsyncRecordsClient.__init__-1782"><a href="#AsyncRecordsClient.__init__-1782"><span class="linenos">1782</span></a>    <span class="c1"># instantiation of the protocol subclass will thus use the new</span>
</span><span id="AsyncRecordsClient.__init__-1783"><a href="#AsyncRecordsClient.__init__-1783"><span class="linenos">1783</span></a>    <span class="c1"># `__init__` and no longer call `_no_init_or_replace_init`.</span>
</span><span id="AsyncRecordsClient.__init__-1784"><a href="#AsyncRecordsClient.__init__-1784"><span class="linenos">1784</span></a>    <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.__init__-1785"><a href="#AsyncRecordsClient.__init__-1785"><span class="linenos">1785</span></a>        <span class="n">init</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;__init__&#39;</span><span class="p">,</span> <span class="n">_no_init_or_replace_init</span><span class="p">)</span>
</span><span id="AsyncRecordsClient.__init__-1786"><a href="#AsyncRecordsClient.__init__-1786"><span class="linenos">1786</span></a>        <span class="k">if</span> <span class="n">init</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_no_init_or_replace_init</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.__init__-1787"><a href="#AsyncRecordsClient.__init__-1787"><span class="linenos">1787</span></a>            <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="n">init</span>
</span><span id="AsyncRecordsClient.__init__-1788"><a href="#AsyncRecordsClient.__init__-1788"><span class="linenos">1788</span></a>            <span class="k">break</span>
</span><span id="AsyncRecordsClient.__init__-1789"><a href="#AsyncRecordsClient.__init__-1789"><span class="linenos">1789</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.__init__-1790"><a href="#AsyncRecordsClient.__init__-1790"><span class="linenos">1790</span></a>        <span class="c1"># should not happen</span>
</span><span id="AsyncRecordsClient.__init__-1791"><a href="#AsyncRecordsClient.__init__-1791"><span class="linenos">1791</span></a>        <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__init__</span>
</span><span id="AsyncRecordsClient.__init__-1792"><a href="#AsyncRecordsClient.__init__-1792"><span class="linenos">1792</span></a>
</span><span id="AsyncRecordsClient.__init__-1793"><a href="#AsyncRecordsClient.__init__-1793"><span class="linenos">1793</span></a>    <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="AsyncRecordsClient.with_model" class="classattr">
                                        <input id="AsyncRecordsClient.with_model-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">with_model</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">model</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">Self</span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.with_model-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.with_model"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.with_model-36"><a href="#AsyncRecordsClient.with_model-36"><span class="linenos">36</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">with_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.with_model-37"><a href="#AsyncRecordsClient.with_model-37"><span class="linenos">37</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to the given model.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.with_model-38"><a href="#AsyncRecordsClient.with_model-38"><span class="linenos">38</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Return a new client limited to the given model.</p>
</div>


                            </div>
                            <div id="AsyncRecordsClient.published_records" class="classattr">
                                        <input id="AsyncRecordsClient.published_records-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">published_records</span><span class="annotation">: Self</span>

                <label class="view-source-button" for="AsyncRecordsClient.published_records-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.published_records"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.published_records-40"><a href="#AsyncRecordsClient.published_records-40"><span class="linenos">40</span></a>    <span class="nd">@property</span>
</span><span id="AsyncRecordsClient.published_records-41"><a href="#AsyncRecordsClient.published_records-41"><span class="linenos">41</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">published_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.published_records-42"><a href="#AsyncRecordsClient.published_records-42"><span class="linenos">42</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to published records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.published_records-43"><a href="#AsyncRecordsClient.published_records-43"><span class="linenos">43</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Return a new client limited to published records.</p>
</div>


                            </div>
                            <div id="AsyncRecordsClient.draft_records" class="classattr">
                                        <input id="AsyncRecordsClient.draft_records-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">draft_records</span><span class="annotation">: Self</span>

                <label class="view-source-button" for="AsyncRecordsClient.draft_records-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.draft_records"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.draft_records-45"><a href="#AsyncRecordsClient.draft_records-45"><span class="linenos">45</span></a>    <span class="nd">@property</span>
</span><span id="AsyncRecordsClient.draft_records-46"><a href="#AsyncRecordsClient.draft_records-46"><span class="linenos">46</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">draft_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.draft_records-47"><a href="#AsyncRecordsClient.draft_records-47"><span class="linenos">47</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new client limited to draft records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.draft_records-48"><a href="#AsyncRecordsClient.draft_records-48"><span class="linenos">48</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Return a new client limited to draft records.</p>
</div>


                            </div>
                            <div id="AsyncRecordsClient.create" class="classattr">
                                        <input id="AsyncRecordsClient.create-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">create</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">community</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">workflow</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">idempotent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">files_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="../types.html#Record">nrp_cmd.types.Record</a></span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.create-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.create"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.create-50"><a href="#AsyncRecordsClient.create-50"><span class="linenos">50</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
</span><span id="AsyncRecordsClient.create-51"><a href="#AsyncRecordsClient.create-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.create-52"><a href="#AsyncRecordsClient.create-52"><span class="linenos">52</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
</span><span id="AsyncRecordsClient.create-53"><a href="#AsyncRecordsClient.create-53"><span class="linenos">53</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.create-54"><a href="#AsyncRecordsClient.create-54"><span class="linenos">54</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.create-55"><a href="#AsyncRecordsClient.create-55"><span class="linenos">55</span></a>        <span class="n">community</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.create-56"><a href="#AsyncRecordsClient.create-56"><span class="linenos">56</span></a>        <span class="n">workflow</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.create-57"><a href="#AsyncRecordsClient.create-57"><span class="linenos">57</span></a>        <span class="n">idempotent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.create-58"><a href="#AsyncRecordsClient.create-58"><span class="linenos">58</span></a>        <span class="n">files_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.create-59"><a href="#AsyncRecordsClient.create-59"><span class="linenos">59</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.create-60"><a href="#AsyncRecordsClient.create-60"><span class="linenos">60</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new record in the repository.</span>
</span><span id="AsyncRecordsClient.create-61"><a href="#AsyncRecordsClient.create-61"><span class="linenos">61</span></a>
</span><span id="AsyncRecordsClient.create-62"><a href="#AsyncRecordsClient.create-62"><span class="linenos">62</span></a><span class="sd">        :param data:            the metadata of the record</span>
</span><span id="AsyncRecordsClient.create-63"><a href="#AsyncRecordsClient.create-63"><span class="linenos">63</span></a><span class="sd">        :param community:       community in which the record should be created</span>
</span><span id="AsyncRecordsClient.create-64"><a href="#AsyncRecordsClient.create-64"><span class="linenos">64</span></a><span class="sd">        :param workflow:        the workflow to use for the record, if not provided</span>
</span><span id="AsyncRecordsClient.create-65"><a href="#AsyncRecordsClient.create-65"><span class="linenos">65</span></a><span class="sd">                                the default workflow of the community is used</span>
</span><span id="AsyncRecordsClient.create-66"><a href="#AsyncRecordsClient.create-66"><span class="linenos">66</span></a><span class="sd">        :param idempotent:      if True, the operation is idempotent and can be retried on network errors.</span>
</span><span id="AsyncRecordsClient.create-67"><a href="#AsyncRecordsClient.create-67"><span class="linenos">67</span></a><span class="sd">                                Use only if you know that the operation is idempotent, for example that</span>
</span><span id="AsyncRecordsClient.create-68"><a href="#AsyncRecordsClient.create-68"><span class="linenos">68</span></a><span class="sd">                                you use PID generator that takes the persistent identifier from the data.</span>
</span><span id="AsyncRecordsClient.create-69"><a href="#AsyncRecordsClient.create-69"><span class="linenos">69</span></a><span class="sd">        :return:                the created record</span>
</span><span id="AsyncRecordsClient.create-70"><a href="#AsyncRecordsClient.create-70"><span class="linenos">70</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.create-71"><a href="#AsyncRecordsClient.create-71"><span class="linenos">71</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Create a new record in the repository.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>data</strong>:             the metadata of the record</li>
<li><strong>community</strong>:        community in which the record should be created</li>
<li><strong>workflow</strong>:         the workflow to use for the record, if not provided
the default workflow of the community is used</li>
<li><strong>idempotent</strong>:       if True, the operation is idempotent and can be retried on network errors.
Use only if you know that the operation is idempotent, for example that
you use PID generator that takes the persistent identifier from the data.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
<pre><code>            the created record
</code></pre>
</blockquote>
</div>


                            </div>
                            <div id="AsyncRecordsClient.read" class="classattr">
                                        <input id="AsyncRecordsClient.read-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">read</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">record_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">yarl</span><span class="o">.</span><span class="n">URL</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">status</span><span class="p">:</span> <span class="n"><a href="#RecordStatus">RecordStatus</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n"><a href="../types.html#Record">nrp_cmd.types.Record</a></span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.read-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.read"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.read-73"><a href="#AsyncRecordsClient.read-73"><span class="linenos">73</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span>
</span><span id="AsyncRecordsClient.read-74"><a href="#AsyncRecordsClient.read-74"><span class="linenos">74</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.read-75"><a href="#AsyncRecordsClient.read-75"><span class="linenos">75</span></a>        <span class="n">record_id</span><span class="p">:</span> <span class="n">RecordId</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.read-76"><a href="#AsyncRecordsClient.read-76"><span class="linenos">76</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.read-77"><a href="#AsyncRecordsClient.read-77"><span class="linenos">77</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.read-78"><a href="#AsyncRecordsClient.read-78"><span class="linenos">78</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.read-79"><a href="#AsyncRecordsClient.read-79"><span class="linenos">79</span></a>        <span class="o">**</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="AsyncRecordsClient.read-80"><a href="#AsyncRecordsClient.read-80"><span class="linenos">80</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.read-81"><a href="#AsyncRecordsClient.read-81"><span class="linenos">81</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a record from the repository. Please provide either record_id or record_url, not both.</span>
</span><span id="AsyncRecordsClient.read-82"><a href="#AsyncRecordsClient.read-82"><span class="linenos">82</span></a>
</span><span id="AsyncRecordsClient.read-83"><a href="#AsyncRecordsClient.read-83"><span class="linenos">83</span></a><span class="sd">        :param record_id:       the id of the record. Could be either pid or url</span>
</span><span id="AsyncRecordsClient.read-84"><a href="#AsyncRecordsClient.read-84"><span class="linenos">84</span></a><span class="sd">        :param model:           optional model of the record</span>
</span><span id="AsyncRecordsClient.read-85"><a href="#AsyncRecordsClient.read-85"><span class="linenos">85</span></a><span class="sd">        :param query:           extra arguments to read, repository specific</span>
</span><span id="AsyncRecordsClient.read-86"><a href="#AsyncRecordsClient.read-86"><span class="linenos">86</span></a><span class="sd">        :return:                the record</span>
</span><span id="AsyncRecordsClient.read-87"><a href="#AsyncRecordsClient.read-87"><span class="linenos">87</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.read-88"><a href="#AsyncRecordsClient.read-88"><span class="linenos">88</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Read a record from the repository. Please provide either record_id or record_url, not both.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>record_id</strong>:        the id of the record. Could be either pid or url</li>
<li><strong>model</strong>:            optional model of the record</li>
<li><strong>query</strong>:            extra arguments to read, repository specific</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
<pre><code>            the record
</code></pre>
</blockquote>
</div>


                            </div>
                            <div id="AsyncRecordsClient.update" class="classattr">
                                        <input id="AsyncRecordsClient.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">update</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">record</span><span class="p">:</span> <span class="n"><a href="../types.html#Record">nrp_cmd.types.Record</a></span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">verify_version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="../types.html#Record">nrp_cmd.types.Record</a></span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.update-90"><a href="#AsyncRecordsClient.update-90"><span class="linenos"> 90</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span>
</span><span id="AsyncRecordsClient.update-91"><a href="#AsyncRecordsClient.update-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.update-92"><a href="#AsyncRecordsClient.update-92"><span class="linenos"> 92</span></a>        <span class="n">record</span><span class="p">:</span> <span class="n">Record</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.update-93"><a href="#AsyncRecordsClient.update-93"><span class="linenos"> 93</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.update-94"><a href="#AsyncRecordsClient.update-94"><span class="linenos"> 94</span></a>        <span class="n">verify_version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="AsyncRecordsClient.update-95"><a href="#AsyncRecordsClient.update-95"><span class="linenos"> 95</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.update-96"><a href="#AsyncRecordsClient.update-96"><span class="linenos"> 96</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a record in the repository.</span>
</span><span id="AsyncRecordsClient.update-97"><a href="#AsyncRecordsClient.update-97"><span class="linenos"> 97</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.update-98"><a href="#AsyncRecordsClient.update-98"><span class="linenos"> 98</span></a><span class="sd">        The record must have an id and optionally</span>
</span><span id="AsyncRecordsClient.update-99"><a href="#AsyncRecordsClient.update-99"><span class="linenos"> 99</span></a><span class="sd">        an etag. If the etag is not provided, the record is updated without checking</span>
</span><span id="AsyncRecordsClient.update-100"><a href="#AsyncRecordsClient.update-100"><span class="linenos">100</span></a><span class="sd">        the etag. If the etag is provided, the record is updated only if the etag matches</span>
</span><span id="AsyncRecordsClient.update-101"><a href="#AsyncRecordsClient.update-101"><span class="linenos">101</span></a><span class="sd">        the current etag of the record in the repository.</span>
</span><span id="AsyncRecordsClient.update-102"><a href="#AsyncRecordsClient.update-102"><span class="linenos">102</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.update-103"><a href="#AsyncRecordsClient.update-103"><span class="linenos">103</span></a><span class="sd">        An updated version, as stored in the repository, is returned.</span>
</span><span id="AsyncRecordsClient.update-104"><a href="#AsyncRecordsClient.update-104"><span class="linenos">104</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.update-105"><a href="#AsyncRecordsClient.update-105"><span class="linenos">105</span></a><span class="sd">        :param record: record that will be stored to the server</span>
</span><span id="AsyncRecordsClient.update-106"><a href="#AsyncRecordsClient.update-106"><span class="linenos">106</span></a><span class="sd">        :param verify_version: if set to true, verify that the record </span>
</span><span id="AsyncRecordsClient.update-107"><a href="#AsyncRecordsClient.update-107"><span class="linenos">107</span></a><span class="sd">                               on the server has not been modified in the meantime</span>
</span><span id="AsyncRecordsClient.update-108"><a href="#AsyncRecordsClient.update-108"><span class="linenos">108</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.update-109"><a href="#AsyncRecordsClient.update-109"><span class="linenos">109</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Update a record in the repository.</p>

<p>The record must have an id and optionally
an etag. If the etag is not provided, the record is updated without checking
the etag. If the etag is provided, the record is updated only if the etag matches
the current etag of the record in the repository.</p>

<p>An updated version, as stored in the repository, is returned.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>record</strong>:  record that will be stored to the server</li>
<li><strong>verify_version</strong>:  if set to true, verify that the record 
on the server has not been modified in the meantime</li>
</ul>
</div>


                            </div>
                            <div id="AsyncRecordsClient.patch" class="classattr">
                                        <input id="AsyncRecordsClient.patch-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">patch</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">record_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">yarl</span><span class="o">.</span><span class="n">URL</span>,</span><span class="param">	<span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">status</span><span class="p">:</span> <span class="n"><a href="#RecordStatus">RecordStatus</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">etag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="../types.html#Record">nrp_cmd.types.Record</a></span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.patch-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.patch"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.patch-111"><a href="#AsyncRecordsClient.patch-111"><span class="linenos">111</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">patch</span><span class="p">(</span>
</span><span id="AsyncRecordsClient.patch-112"><a href="#AsyncRecordsClient.patch-112"><span class="linenos">112</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.patch-113"><a href="#AsyncRecordsClient.patch-113"><span class="linenos">113</span></a>        <span class="n">record_id</span><span class="p">:</span> <span class="n">RecordId</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.patch-114"><a href="#AsyncRecordsClient.patch-114"><span class="linenos">114</span></a>        <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
</span><span id="AsyncRecordsClient.patch-115"><a href="#AsyncRecordsClient.patch-115"><span class="linenos">115</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.patch-116"><a href="#AsyncRecordsClient.patch-116"><span class="linenos">116</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.patch-117"><a href="#AsyncRecordsClient.patch-117"><span class="linenos">117</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.patch-118"><a href="#AsyncRecordsClient.patch-118"><span class="linenos">118</span></a>        <span class="n">etag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.patch-119"><a href="#AsyncRecordsClient.patch-119"><span class="linenos">119</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Record</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.patch-120"><a href="#AsyncRecordsClient.patch-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Path a record in the repository.</span>
</span><span id="AsyncRecordsClient.patch-121"><a href="#AsyncRecordsClient.patch-121"><span class="linenos">121</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.patch-122"><a href="#AsyncRecordsClient.patch-122"><span class="linenos">122</span></a><span class="sd">        The record is deep-patched with the metadata, using the following algorithm:</span>
</span><span id="AsyncRecordsClient.patch-123"><a href="#AsyncRecordsClient.patch-123"><span class="linenos">123</span></a><span class="sd">        * if a key in a dictionary is called &#39;replace:&lt;key&gt;&#39;, the whole content will be replaced.</span>
</span><span id="AsyncRecordsClient.patch-124"><a href="#AsyncRecordsClient.patch-124"><span class="linenos">124</span></a><span class="sd">        * dictionaries: are merged, with primitive values from metadata overriding </span>
</span><span id="AsyncRecordsClient.patch-125"><a href="#AsyncRecordsClient.patch-125"><span class="linenos">125</span></a><span class="sd">          values in the record. None in the metadata removes the key from the record</span>
</span><span id="AsyncRecordsClient.patch-126"><a href="#AsyncRecordsClient.patch-126"><span class="linenos">126</span></a><span class="sd">        * arrays: values from the metadata will be added at the end.</span>
</span><span id="AsyncRecordsClient.patch-127"><a href="#AsyncRecordsClient.patch-127"><span class="linenos">127</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.patch-128"><a href="#AsyncRecordsClient.patch-128"><span class="linenos">128</span></a><span class="sd">        :param record_id: identification of the record</span>
</span><span id="AsyncRecordsClient.patch-129"><a href="#AsyncRecordsClient.patch-129"><span class="linenos">129</span></a><span class="sd">        :param metadata: dictionary containing the metadata</span>
</span><span id="AsyncRecordsClient.patch-130"><a href="#AsyncRecordsClient.patch-130"><span class="linenos">130</span></a><span class="sd">        :param etag: if set, check that we are patching this etag</span>
</span><span id="AsyncRecordsClient.patch-131"><a href="#AsyncRecordsClient.patch-131"><span class="linenos">131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.patch-132"><a href="#AsyncRecordsClient.patch-132"><span class="linenos">132</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Path a record in the repository.</p>

<p>The record is deep-patched with the metadata, using the following algorithm:</p>

<ul>
<li>if a key in a dictionary is called 'replace:<key>', the whole content will be replaced.</li>
<li>dictionaries: are merged, with primitive values from metadata overriding 
values in the record. None in the metadata removes the key from the record</li>
<li>arrays: values from the metadata will be added at the end.</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>record_id</strong>:  identification of the record</li>
<li><strong>metadata</strong>:  dictionary containing the metadata</li>
<li><strong>etag</strong>:  if set, check that we are patching this etag</li>
</ul>
</div>


                            </div>
                            <div id="AsyncRecordsClient.delete" class="classattr">
                                        <input id="AsyncRecordsClient.delete-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">delete</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">record_id_or_record</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">yarl</span><span class="o">.</span><span class="n">URL</span> <span class="o">|</span> <span class="n"><a href="../types.html#Record">nrp_cmd.types.Record</a></span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">etag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">status</span><span class="p">:</span> <span class="n"><a href="#RecordStatus">RecordStatus</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.delete-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.delete"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.delete-134"><a href="#AsyncRecordsClient.delete-134"><span class="linenos">134</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span>
</span><span id="AsyncRecordsClient.delete-135"><a href="#AsyncRecordsClient.delete-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.delete-136"><a href="#AsyncRecordsClient.delete-136"><span class="linenos">136</span></a>        <span class="n">record_id_or_record</span> <span class="p">:</span> <span class="n">RecordId</span> <span class="o">|</span> <span class="n">Record</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.delete-137"><a href="#AsyncRecordsClient.delete-137"><span class="linenos">137</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.delete-138"><a href="#AsyncRecordsClient.delete-138"><span class="linenos">138</span></a>        <span class="n">etag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.delete-139"><a href="#AsyncRecordsClient.delete-139"><span class="linenos">139</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.delete-140"><a href="#AsyncRecordsClient.delete-140"><span class="linenos">140</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.delete-141"><a href="#AsyncRecordsClient.delete-141"><span class="linenos">141</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a record inside the repository.</span>
</span><span id="AsyncRecordsClient.delete-142"><a href="#AsyncRecordsClient.delete-142"><span class="linenos">142</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.delete-143"><a href="#AsyncRecordsClient.delete-143"><span class="linenos">143</span></a><span class="sd">        :param record_id: identification of the record. If record_id is passed, you can</span>
</span><span id="AsyncRecordsClient.delete-144"><a href="#AsyncRecordsClient.delete-144"><span class="linenos">144</span></a><span class="sd">                          specify the etag as well</span>
</span><span id="AsyncRecordsClient.delete-145"><a href="#AsyncRecordsClient.delete-145"><span class="linenos">145</span></a><span class="sd">        :param record: record downloaded from the repository</span>
</span><span id="AsyncRecordsClient.delete-146"><a href="#AsyncRecordsClient.delete-146"><span class="linenos">146</span></a><span class="sd">        :param etag: if record_id is specified, delete the record only if the version matches</span>
</span><span id="AsyncRecordsClient.delete-147"><a href="#AsyncRecordsClient.delete-147"><span class="linenos">147</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.delete-148"><a href="#AsyncRecordsClient.delete-148"><span class="linenos">148</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Delete a record inside the repository.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>record_id</strong>:  identification of the record. If record_id is passed, you can
specify the etag as well</li>
<li><strong>record</strong>:  record downloaded from the repository</li>
<li><strong>etag</strong>:  if record_id is specified, delete the record only if the version matches</li>
</ul>
</div>


                            </div>
                            <div id="AsyncRecordsClient.search" class="classattr">
                                        <input id="AsyncRecordsClient.search-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">search</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">page</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">status</span><span class="p">:</span> <span class="n"><a href="#RecordStatus">RecordStatus</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">facets</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n"><a href="../types.html#RecordList">nrp_cmd.types.RecordList</a></span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.search-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.search"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.search-150"><a href="#AsyncRecordsClient.search-150"><span class="linenos">150</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span>
</span><span id="AsyncRecordsClient.search-151"><a href="#AsyncRecordsClient.search-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.search-152"><a href="#AsyncRecordsClient.search-152"><span class="linenos">152</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.search-153"><a href="#AsyncRecordsClient.search-153"><span class="linenos">153</span></a>        <span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.search-154"><a href="#AsyncRecordsClient.search-154"><span class="linenos">154</span></a>        <span class="n">page</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.search-155"><a href="#AsyncRecordsClient.search-155"><span class="linenos">155</span></a>        <span class="n">size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.search-156"><a href="#AsyncRecordsClient.search-156"><span class="linenos">156</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.search-157"><a href="#AsyncRecordsClient.search-157"><span class="linenos">157</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.search-158"><a href="#AsyncRecordsClient.search-158"><span class="linenos">158</span></a>        <span class="o">**</span><span class="n">facets</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.search-159"><a href="#AsyncRecordsClient.search-159"><span class="linenos">159</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.search-160"><a href="#AsyncRecordsClient.search-160"><span class="linenos">160</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Search for records in the repository.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.search-161"><a href="#AsyncRecordsClient.search-161"><span class="linenos">161</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Search for records in the repository.</p>
</div>


                            </div>
                            <div id="AsyncRecordsClient.next_page" class="classattr">
                                        <input id="AsyncRecordsClient.next_page-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">next_page</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">record_list</span><span class="p">:</span> <span class="n"><a href="../types.html#RecordList">nrp_cmd.types.RecordList</a></span></span><span class="return-annotation">) -> <span class="n"><a href="../types.html#RecordList">nrp_cmd.types.RecordList</a></span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.next_page-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.next_page"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.next_page-163"><a href="#AsyncRecordsClient.next_page-163"><span class="linenos">163</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">next_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">record_list</span><span class="p">:</span> <span class="n">RecordList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.next_page-164"><a href="#AsyncRecordsClient.next_page-164"><span class="linenos">164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the next page of records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.next_page-165"><a href="#AsyncRecordsClient.next_page-165"><span class="linenos">165</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Get the next page of records.</p>
</div>


                            </div>
                            <div id="AsyncRecordsClient.previous_page" class="classattr">
                                        <input id="AsyncRecordsClient.previous_page-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">previous_page</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">record_list</span><span class="p">:</span> <span class="n"><a href="../types.html#RecordList">nrp_cmd.types.RecordList</a></span></span><span class="return-annotation">) -> <span class="n"><a href="../types.html#RecordList">nrp_cmd.types.RecordList</a></span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.previous_page-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.previous_page"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.previous_page-167"><a href="#AsyncRecordsClient.previous_page-167"><span class="linenos">167</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">previous_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">record_list</span><span class="p">:</span> <span class="n">RecordList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordList</span><span class="p">:</span>
</span><span id="AsyncRecordsClient.previous_page-168"><a href="#AsyncRecordsClient.previous_page-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the previous page of records.&quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.previous_page-169"><a href="#AsyncRecordsClient.previous_page-169"><span class="linenos">169</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Get the previous page of records.</p>
</div>


                            </div>
                            <div id="AsyncRecordsClient.scan" class="classattr">
                                        <input id="AsyncRecordsClient.scan-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">scan</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">status</span><span class="p">:</span> <span class="n"><a href="#RecordStatus">RecordStatus</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">facets</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">contextlib</span><span class="o">.</span><span class="n">AbstractAsyncContextManager</span><span class="p">[</span><span class="n">AsyncIterator</span><span class="p">[</span><span class="n"><a href="../types.html#Record">nrp_cmd.types.Record</a></span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="AsyncRecordsClient.scan-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRecordsClient.scan"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRecordsClient.scan-171"><a href="#AsyncRecordsClient.scan-171"><span class="linenos">171</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">scan</span><span class="p">(</span>
</span><span id="AsyncRecordsClient.scan-172"><a href="#AsyncRecordsClient.scan-172"><span class="linenos">172</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.scan-173"><a href="#AsyncRecordsClient.scan-173"><span class="linenos">173</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.scan-174"><a href="#AsyncRecordsClient.scan-174"><span class="linenos">174</span></a>        <span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.scan-175"><a href="#AsyncRecordsClient.scan-175"><span class="linenos">175</span></a>        <span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.scan-176"><a href="#AsyncRecordsClient.scan-176"><span class="linenos">176</span></a>        <span class="n">status</span><span class="p">:</span> <span class="n">RecordStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.scan-177"><a href="#AsyncRecordsClient.scan-177"><span class="linenos">177</span></a>        <span class="o">**</span><span class="n">facets</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AsyncRecordsClient.scan-178"><a href="#AsyncRecordsClient.scan-178"><span class="linenos">178</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AbstractAsyncContextManager</span><span class="p">[</span><span class="n">AsyncIterator</span><span class="p">[</span><span class="n">Record</span><span class="p">]]:</span>
</span><span id="AsyncRecordsClient.scan-179"><a href="#AsyncRecordsClient.scan-179"><span class="linenos">179</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scan all the records in the repository.</span>
</span><span id="AsyncRecordsClient.scan-180"><a href="#AsyncRecordsClient.scan-180"><span class="linenos">180</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.scan-181"><a href="#AsyncRecordsClient.scan-181"><span class="linenos">181</span></a><span class="sd">        Tries to return all matched records in a consistent manner </span>
</span><span id="AsyncRecordsClient.scan-182"><a href="#AsyncRecordsClient.scan-182"><span class="linenos">182</span></a><span class="sd">        (using snapshots if they are available), but this behaviour is not guaranteed.</span>
</span><span id="AsyncRecordsClient.scan-183"><a href="#AsyncRecordsClient.scan-183"><span class="linenos">183</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.scan-184"><a href="#AsyncRecordsClient.scan-184"><span class="linenos">184</span></a><span class="sd">        The implementation might rely on specific sorting, so you should not modify it</span>
</span><span id="AsyncRecordsClient.scan-185"><a href="#AsyncRecordsClient.scan-185"><span class="linenos">185</span></a><span class="sd">        unless you know what you are doing.</span>
</span><span id="AsyncRecordsClient.scan-186"><a href="#AsyncRecordsClient.scan-186"><span class="linenos">186</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.scan-187"><a href="#AsyncRecordsClient.scan-187"><span class="linenos">187</span></a><span class="sd">        Usage:</span>
</span><span id="AsyncRecordsClient.scan-188"><a href="#AsyncRecordsClient.scan-188"><span class="linenos">188</span></a><span class="sd">        </span>
</span><span id="AsyncRecordsClient.scan-189"><a href="#AsyncRecordsClient.scan-189"><span class="linenos">189</span></a><span class="sd">        ```</span>
</span><span id="AsyncRecordsClient.scan-190"><a href="#AsyncRecordsClient.scan-190"><span class="linenos">190</span></a><span class="sd">        async with client.scan(...) as records:</span>
</span><span id="AsyncRecordsClient.scan-191"><a href="#AsyncRecordsClient.scan-191"><span class="linenos">191</span></a><span class="sd">            async for record in records:</span>
</span><span id="AsyncRecordsClient.scan-192"><a href="#AsyncRecordsClient.scan-192"><span class="linenos">192</span></a><span class="sd">                print(record)</span>
</span><span id="AsyncRecordsClient.scan-193"><a href="#AsyncRecordsClient.scan-193"><span class="linenos">193</span></a><span class="sd">        ```</span>
</span><span id="AsyncRecordsClient.scan-194"><a href="#AsyncRecordsClient.scan-194"><span class="linenos">194</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRecordsClient.scan-195"><a href="#AsyncRecordsClient.scan-195"><span class="linenos">195</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Scan all the records in the repository.</p>

<p>Tries to return all matched records in a consistent manner 
(using snapshots if they are available), but this behaviour is not guaranteed.</p>

<p>The implementation might rely on specific sorting, so you should not modify it
unless you know what you are doing.</p>

<p>Usage:</p>

<pre><code>async with client.scan(...) as records:
    async for record in records:
        print(record)
</code></pre>
</div>


                            </div>
                </section>
                <section id="AsyncRepositoryClient">
                            <input id="AsyncRepositoryClient-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AsyncRepositoryClient</span><wbr>(<span class="base">typing.Protocol</span>):

                <label class="view-source-button" for="AsyncRepositoryClient-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRepositoryClient"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRepositoryClient-198"><a href="#AsyncRepositoryClient-198"><span class="linenos">198</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AsyncRepositoryClient</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span><span id="AsyncRepositoryClient-199"><a href="#AsyncRepositoryClient-199"><span class="linenos">199</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;An abstract client for NRP repositories.</span>
</span><span id="AsyncRepositoryClient-200"><a href="#AsyncRepositoryClient-200"><span class="linenos">200</span></a><span class="sd">    </span>
</span><span id="AsyncRepositoryClient-201"><a href="#AsyncRepositoryClient-201"><span class="linenos">201</span></a><span class="sd">    Usually, subclasses of this class are not instantiated directly in your code. </span>
</span><span id="AsyncRepositoryClient-202"><a href="#AsyncRepositoryClient-202"><span class="linenos">202</span></a><span class="sd">    To get an instance of a repository, use the high-level method `get_async_client`:</span>
</span><span id="AsyncRepositoryClient-203"><a href="#AsyncRepositoryClient-203"><span class="linenos">203</span></a><span class="sd">       </span>
</span><span id="AsyncRepositoryClient-204"><a href="#AsyncRepositoryClient-204"><span class="linenos">204</span></a><span class="sd">    ```</span>
</span><span id="AsyncRepositoryClient-205"><a href="#AsyncRepositoryClient-205"><span class="linenos">205</span></a><span class="sd">    my_client = await async_client(config?, url=url, refresh=False/True)</span>
</span><span id="AsyncRepositoryClient-206"><a href="#AsyncRepositoryClient-206"><span class="linenos">206</span></a><span class="sd">    my_client = await async_client(config?, alias=alias, refresh=False/True)</span>
</span><span id="AsyncRepositoryClient-207"><a href="#AsyncRepositoryClient-207"><span class="linenos">207</span></a><span class="sd">    ```</span>
</span><span id="AsyncRepositoryClient-208"><a href="#AsyncRepositoryClient-208"><span class="linenos">208</span></a><span class="sd">    </span>
</span><span id="AsyncRepositoryClient-209"><a href="#AsyncRepositoryClient-209"><span class="linenos">209</span></a><span class="sd">    and then use the instance.</span>
</span><span id="AsyncRepositoryClient-210"><a href="#AsyncRepositoryClient-210"><span class="linenos">210</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient-211"><a href="#AsyncRepositoryClient-211"><span class="linenos">211</span></a>            
</span><span id="AsyncRepositoryClient-212"><a href="#AsyncRepositoryClient-212"><span class="linenos">212</span></a>    <span class="c1"># region info endpoint</span>
</span><span id="AsyncRepositoryClient-213"><a href="#AsyncRepositoryClient-213"><span class="linenos">213</span></a>    <span class="nd">@classmethod</span>
</span><span id="AsyncRepositoryClient-214"><a href="#AsyncRepositoryClient-214"><span class="linenos">214</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">can_handle_repository</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="n">URL</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verify_tls</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">URL</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient-215"><a href="#AsyncRepositoryClient-215"><span class="linenos">215</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return if this client can handle a repository that contains the passed URL.</span>
</span><span id="AsyncRepositoryClient-216"><a href="#AsyncRepositoryClient-216"><span class="linenos">216</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient-217"><a href="#AsyncRepositoryClient-217"><span class="linenos">217</span></a><span class="sd">        This method can make an http request or use any means to check if the repository</span>
</span><span id="AsyncRepositoryClient-218"><a href="#AsyncRepositoryClient-218"><span class="linenos">218</span></a><span class="sd">        at the URL can be handled by this client.</span>
</span><span id="AsyncRepositoryClient-219"><a href="#AsyncRepositoryClient-219"><span class="linenos">219</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient-220"><a href="#AsyncRepositoryClient-220"><span class="linenos">220</span></a><span class="sd">        :param url: any url within the repository (root, record api, html, documentation</span>
</span><span id="AsyncRepositoryClient-221"><a href="#AsyncRepositoryClient-221"><span class="linenos">221</span></a><span class="sd">        if running on the same host, ...)</span>
</span><span id="AsyncRepositoryClient-222"><a href="#AsyncRepositoryClient-222"><span class="linenos">222</span></a><span class="sd">        :param verify_tls: whether to verify tls (should be switched on for production)</span>
</span><span id="AsyncRepositoryClient-223"><a href="#AsyncRepositoryClient-223"><span class="linenos">223</span></a><span class="sd">        :return: API url of the server or None if this client can not handle the repository</span>
</span><span id="AsyncRepositoryClient-224"><a href="#AsyncRepositoryClient-224"><span class="linenos">224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient-225"><a href="#AsyncRepositoryClient-225"><span class="linenos">225</span></a>        <span class="o">...</span>
</span><span id="AsyncRepositoryClient-226"><a href="#AsyncRepositoryClient-226"><span class="linenos">226</span></a>
</span><span id="AsyncRepositoryClient-227"><a href="#AsyncRepositoryClient-227"><span class="linenos">227</span></a>    <span class="nd">@classmethod</span>
</span><span id="AsyncRepositoryClient-228"><a href="#AsyncRepositoryClient-228"><span class="linenos">228</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">from_configuration</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> 
</span><span id="AsyncRepositoryClient-229"><a href="#AsyncRepositoryClient-229"><span class="linenos">229</span></a>        <span class="n">config</span><span class="p">:</span> <span class="n">RepositoryConfig</span><span class="p">,</span>
</span><span id="AsyncRepositoryClient-230"><a href="#AsyncRepositoryClient-230"><span class="linenos">230</span></a>        <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="AsyncRepositoryClient-231"><a href="#AsyncRepositoryClient-231"><span class="linenos">231</span></a>        <span class="n">limiter</span><span class="p">:</span> <span class="n">Limiter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRepositoryClient-232"><a href="#AsyncRepositoryClient-232"><span class="linenos">232</span></a>        <span class="n">extra_tokens</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="AsyncRepositoryClient-233"><a href="#AsyncRepositoryClient-233"><span class="linenos">233</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient-234"><a href="#AsyncRepositoryClient-234"><span class="linenos">234</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a client from the given configuration.</span>
</span><span id="AsyncRepositoryClient-235"><a href="#AsyncRepositoryClient-235"><span class="linenos">235</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient-236"><a href="#AsyncRepositoryClient-236"><span class="linenos">236</span></a><span class="sd">        :param config: the configuration for the repository</span>
</span><span id="AsyncRepositoryClient-237"><a href="#AsyncRepositoryClient-237"><span class="linenos">237</span></a><span class="sd">        :param refresh: refresh the configuration by calling get_repository_info</span>
</span><span id="AsyncRepositoryClient-238"><a href="#AsyncRepositoryClient-238"><span class="linenos">238</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient-239"><a href="#AsyncRepositoryClient-239"><span class="linenos">239</span></a>        <span class="o">...</span>
</span><span id="AsyncRepositoryClient-240"><a href="#AsyncRepositoryClient-240"><span class="linenos">240</span></a>        
</span><span id="AsyncRepositoryClient-241"><a href="#AsyncRepositoryClient-241"><span class="linenos">241</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_repository_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RepositoryInfo</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient-242"><a href="#AsyncRepositoryClient-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the repository.</span>
</span><span id="AsyncRepositoryClient-243"><a href="#AsyncRepositoryClient-243"><span class="linenos">243</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient-244"><a href="#AsyncRepositoryClient-244"><span class="linenos">244</span></a><span class="sd">        This call is cached inside the RepositoryConfig instance.</span>
</span><span id="AsyncRepositoryClient-245"><a href="#AsyncRepositoryClient-245"><span class="linenos">245</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient-246"><a href="#AsyncRepositoryClient-246"><span class="linenos">246</span></a><span class="sd">        :param refresh: refresh the info from the server</span>
</span><span id="AsyncRepositoryClient-247"><a href="#AsyncRepositoryClient-247"><span class="linenos">247</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient-248"><a href="#AsyncRepositoryClient-248"><span class="linenos">248</span></a>        <span class="o">...</span>
</span><span id="AsyncRepositoryClient-249"><a href="#AsyncRepositoryClient-249"><span class="linenos">249</span></a>
</span><span id="AsyncRepositoryClient-250"><a href="#AsyncRepositoryClient-250"><span class="linenos">250</span></a>    <span class="c1"># endregion</span>
</span><span id="AsyncRepositoryClient-251"><a href="#AsyncRepositoryClient-251"><span class="linenos">251</span></a>
</span><span id="AsyncRepositoryClient-252"><a href="#AsyncRepositoryClient-252"><span class="linenos">252</span></a>    <span class="nd">@property</span>
</span><span id="AsyncRepositoryClient-253"><a href="#AsyncRepositoryClient-253"><span class="linenos">253</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncRecordsClient</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient-254"><a href="#AsyncRepositoryClient-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return client for accessing records.&quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient-255"><a href="#AsyncRepositoryClient-255"><span class="linenos">255</span></a>        <span class="o">...</span>
</span><span id="AsyncRepositoryClient-256"><a href="#AsyncRepositoryClient-256"><span class="linenos">256</span></a>
</span><span id="AsyncRepositoryClient-257"><a href="#AsyncRepositoryClient-257"><span class="linenos">257</span></a>    <span class="c1"># region records endpoint</span>
</span><span id="AsyncRepositoryClient-258"><a href="#AsyncRepositoryClient-258"><span class="linenos">258</span></a>        
</span><span id="AsyncRepositoryClient-259"><a href="#AsyncRepositoryClient-259"><span class="linenos">259</span></a>    <span class="c1"># endregion</span>
</span><span id="AsyncRepositoryClient-260"><a href="#AsyncRepositoryClient-260"><span class="linenos">260</span></a>    
</span><span id="AsyncRepositoryClient-261"><a href="#AsyncRepositoryClient-261"><span class="linenos">261</span></a>    <span class="c1"># region files endpoint</span>
</span><span id="AsyncRepositoryClient-262"><a href="#AsyncRepositoryClient-262"><span class="linenos">262</span></a>    
</span><span id="AsyncRepositoryClient-263"><a href="#AsyncRepositoryClient-263"><span class="linenos">263</span></a>    
</span><span id="AsyncRepositoryClient-264"><a href="#AsyncRepositoryClient-264"><span class="linenos">264</span></a>    
</span><span id="AsyncRepositoryClient-265"><a href="#AsyncRepositoryClient-265"><span class="linenos">265</span></a>    <span class="c1"># endregion</span>
</span><span id="AsyncRepositoryClient-266"><a href="#AsyncRepositoryClient-266"><span class="linenos">266</span></a>    
</span><span id="AsyncRepositoryClient-267"><a href="#AsyncRepositoryClient-267"><span class="linenos">267</span></a>    <span class="c1"># region requests endpoint</span>
</span><span id="AsyncRepositoryClient-268"><a href="#AsyncRepositoryClient-268"><span class="linenos">268</span></a>    
</span><span id="AsyncRepositoryClient-269"><a href="#AsyncRepositoryClient-269"><span class="linenos">269</span></a>    <span class="c1"># endregion</span>
</span></pre></div>


            <div class="docstring"><p>An abstract client for NRP repositories.</p>

<p>Usually, subclasses of this class are not instantiated directly in your code. 
To get an instance of a repository, use the high-level method <code>get_async_client</code>:</p>

<pre><code>my_client = await async_client(config?, url=url, refresh=False/True)
my_client = await async_client(config?, alias=alias, refresh=False/True)
</code></pre>

<p>and then use the instance.</p>
</div>


                            <div id="AsyncRepositoryClient.__init__" class="classattr">
                                        <input id="AsyncRepositoryClient.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AsyncRepositoryClient</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="AsyncRepositoryClient.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRepositoryClient.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRepositoryClient.__init__-1767"><a href="#AsyncRepositoryClient.__init__-1767"><span class="linenos">1767</span></a><span class="k">def</span><span class="w"> </span><span class="nf">_no_init_or_replace_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="AsyncRepositoryClient.__init__-1768"><a href="#AsyncRepositoryClient.__init__-1768"><span class="linenos">1768</span></a>    <span class="bp">cls</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="AsyncRepositoryClient.__init__-1769"><a href="#AsyncRepositoryClient.__init__-1769"><span class="linenos">1769</span></a>
</span><span id="AsyncRepositoryClient.__init__-1770"><a href="#AsyncRepositoryClient.__init__-1770"><span class="linenos">1770</span></a>    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_protocol</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.__init__-1771"><a href="#AsyncRepositoryClient.__init__-1771"><span class="linenos">1771</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Protocols cannot be instantiated&#39;</span><span class="p">)</span>
</span><span id="AsyncRepositoryClient.__init__-1772"><a href="#AsyncRepositoryClient.__init__-1772"><span class="linenos">1772</span></a>
</span><span id="AsyncRepositoryClient.__init__-1773"><a href="#AsyncRepositoryClient.__init__-1773"><span class="linenos">1773</span></a>    <span class="c1"># Already using a custom `__init__`. No need to calculate correct</span>
</span><span id="AsyncRepositoryClient.__init__-1774"><a href="#AsyncRepositoryClient.__init__-1774"><span class="linenos">1774</span></a>    <span class="c1"># `__init__` to call. This can lead to RecursionError. See bpo-45121.</span>
</span><span id="AsyncRepositoryClient.__init__-1775"><a href="#AsyncRepositoryClient.__init__-1775"><span class="linenos">1775</span></a>    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_no_init_or_replace_init</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.__init__-1776"><a href="#AsyncRepositoryClient.__init__-1776"><span class="linenos">1776</span></a>        <span class="k">return</span>
</span><span id="AsyncRepositoryClient.__init__-1777"><a href="#AsyncRepositoryClient.__init__-1777"><span class="linenos">1777</span></a>
</span><span id="AsyncRepositoryClient.__init__-1778"><a href="#AsyncRepositoryClient.__init__-1778"><span class="linenos">1778</span></a>    <span class="c1"># Initially, `__init__` of a protocol subclass is set to `_no_init_or_replace_init`.</span>
</span><span id="AsyncRepositoryClient.__init__-1779"><a href="#AsyncRepositoryClient.__init__-1779"><span class="linenos">1779</span></a>    <span class="c1"># The first instantiation of the subclass will call `_no_init_or_replace_init` which</span>
</span><span id="AsyncRepositoryClient.__init__-1780"><a href="#AsyncRepositoryClient.__init__-1780"><span class="linenos">1780</span></a>    <span class="c1"># searches for a proper new `__init__` in the MRO. The new `__init__`</span>
</span><span id="AsyncRepositoryClient.__init__-1781"><a href="#AsyncRepositoryClient.__init__-1781"><span class="linenos">1781</span></a>    <span class="c1"># replaces the subclass&#39; old `__init__` (ie `_no_init_or_replace_init`). Subsequent</span>
</span><span id="AsyncRepositoryClient.__init__-1782"><a href="#AsyncRepositoryClient.__init__-1782"><span class="linenos">1782</span></a>    <span class="c1"># instantiation of the protocol subclass will thus use the new</span>
</span><span id="AsyncRepositoryClient.__init__-1783"><a href="#AsyncRepositoryClient.__init__-1783"><span class="linenos">1783</span></a>    <span class="c1"># `__init__` and no longer call `_no_init_or_replace_init`.</span>
</span><span id="AsyncRepositoryClient.__init__-1784"><a href="#AsyncRepositoryClient.__init__-1784"><span class="linenos">1784</span></a>    <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.__init__-1785"><a href="#AsyncRepositoryClient.__init__-1785"><span class="linenos">1785</span></a>        <span class="n">init</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;__init__&#39;</span><span class="p">,</span> <span class="n">_no_init_or_replace_init</span><span class="p">)</span>
</span><span id="AsyncRepositoryClient.__init__-1786"><a href="#AsyncRepositoryClient.__init__-1786"><span class="linenos">1786</span></a>        <span class="k">if</span> <span class="n">init</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_no_init_or_replace_init</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.__init__-1787"><a href="#AsyncRepositoryClient.__init__-1787"><span class="linenos">1787</span></a>            <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="n">init</span>
</span><span id="AsyncRepositoryClient.__init__-1788"><a href="#AsyncRepositoryClient.__init__-1788"><span class="linenos">1788</span></a>            <span class="k">break</span>
</span><span id="AsyncRepositoryClient.__init__-1789"><a href="#AsyncRepositoryClient.__init__-1789"><span class="linenos">1789</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.__init__-1790"><a href="#AsyncRepositoryClient.__init__-1790"><span class="linenos">1790</span></a>        <span class="c1"># should not happen</span>
</span><span id="AsyncRepositoryClient.__init__-1791"><a href="#AsyncRepositoryClient.__init__-1791"><span class="linenos">1791</span></a>        <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__init__</span>
</span><span id="AsyncRepositoryClient.__init__-1792"><a href="#AsyncRepositoryClient.__init__-1792"><span class="linenos">1792</span></a>
</span><span id="AsyncRepositoryClient.__init__-1793"><a href="#AsyncRepositoryClient.__init__-1793"><span class="linenos">1793</span></a>    <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="AsyncRepositoryClient.can_handle_repository" class="classattr">
                                        <input id="AsyncRepositoryClient.can_handle_repository-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">async def</span>
        <span class="name">can_handle_repository</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">url</span><span class="p">:</span> <span class="n">yarl</span><span class="o">.</span><span class="n">URL</span> <span class="o">|</span> <span class="nb">str</span>, </span><span class="param"><span class="n">verify_tls</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">yarl</span><span class="o">.</span><span class="n">URL</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="AsyncRepositoryClient.can_handle_repository-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRepositoryClient.can_handle_repository"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRepositoryClient.can_handle_repository-213"><a href="#AsyncRepositoryClient.can_handle_repository-213"><span class="linenos">213</span></a>    <span class="nd">@classmethod</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-214"><a href="#AsyncRepositoryClient.can_handle_repository-214"><span class="linenos">214</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">can_handle_repository</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="n">URL</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verify_tls</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">URL</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-215"><a href="#AsyncRepositoryClient.can_handle_repository-215"><span class="linenos">215</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return if this client can handle a repository that contains the passed URL.</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-216"><a href="#AsyncRepositoryClient.can_handle_repository-216"><span class="linenos">216</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient.can_handle_repository-217"><a href="#AsyncRepositoryClient.can_handle_repository-217"><span class="linenos">217</span></a><span class="sd">        This method can make an http request or use any means to check if the repository</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-218"><a href="#AsyncRepositoryClient.can_handle_repository-218"><span class="linenos">218</span></a><span class="sd">        at the URL can be handled by this client.</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-219"><a href="#AsyncRepositoryClient.can_handle_repository-219"><span class="linenos">219</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient.can_handle_repository-220"><a href="#AsyncRepositoryClient.can_handle_repository-220"><span class="linenos">220</span></a><span class="sd">        :param url: any url within the repository (root, record api, html, documentation</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-221"><a href="#AsyncRepositoryClient.can_handle_repository-221"><span class="linenos">221</span></a><span class="sd">        if running on the same host, ...)</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-222"><a href="#AsyncRepositoryClient.can_handle_repository-222"><span class="linenos">222</span></a><span class="sd">        :param verify_tls: whether to verify tls (should be switched on for production)</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-223"><a href="#AsyncRepositoryClient.can_handle_repository-223"><span class="linenos">223</span></a><span class="sd">        :return: API url of the server or None if this client can not handle the repository</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-224"><a href="#AsyncRepositoryClient.can_handle_repository-224"><span class="linenos">224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient.can_handle_repository-225"><a href="#AsyncRepositoryClient.can_handle_repository-225"><span class="linenos">225</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Return if this client can handle a repository that contains the passed URL.</p>

<p>This method can make an http request or use any means to check if the repository
at the URL can be handled by this client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>url</strong>:  any url within the repository (root, record api, html, documentation
if running on the same host, ...)</li>
<li><strong>verify_tls</strong>:  whether to verify tls (should be switched on for production)</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>API url of the server or None if this client can not handle the repository</p>
</blockquote>
</div>


                            </div>
                            <div id="AsyncRepositoryClient.from_configuration" class="classattr">
                                        <input id="AsyncRepositoryClient.from_configuration-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">async def</span>
        <span class="name">from_configuration</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span>,</span><span class="param">	<span class="n">config</span><span class="p">:</span> <span class="n"><a href="../config.html#RepositoryConfig">nrp_cmd.config.RepositoryConfig</a></span>,</span><span class="param">	<span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">limiter</span><span class="p">:</span> <span class="n"><a href="connection.html#Limiter">nrp_cmd.async_client.connection.Limiter</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">extra_tokens</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">yarl</span><span class="o">.</span><span class="n">URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">Self</span>:</span></span>

                <label class="view-source-button" for="AsyncRepositoryClient.from_configuration-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRepositoryClient.from_configuration"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRepositoryClient.from_configuration-227"><a href="#AsyncRepositoryClient.from_configuration-227"><span class="linenos">227</span></a>    <span class="nd">@classmethod</span>
</span><span id="AsyncRepositoryClient.from_configuration-228"><a href="#AsyncRepositoryClient.from_configuration-228"><span class="linenos">228</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">from_configuration</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> 
</span><span id="AsyncRepositoryClient.from_configuration-229"><a href="#AsyncRepositoryClient.from_configuration-229"><span class="linenos">229</span></a>        <span class="n">config</span><span class="p">:</span> <span class="n">RepositoryConfig</span><span class="p">,</span>
</span><span id="AsyncRepositoryClient.from_configuration-230"><a href="#AsyncRepositoryClient.from_configuration-230"><span class="linenos">230</span></a>        <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="AsyncRepositoryClient.from_configuration-231"><a href="#AsyncRepositoryClient.from_configuration-231"><span class="linenos">231</span></a>        <span class="n">limiter</span><span class="p">:</span> <span class="n">Limiter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="AsyncRepositoryClient.from_configuration-232"><a href="#AsyncRepositoryClient.from_configuration-232"><span class="linenos">232</span></a>        <span class="n">extra_tokens</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="AsyncRepositoryClient.from_configuration-233"><a href="#AsyncRepositoryClient.from_configuration-233"><span class="linenos">233</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.from_configuration-234"><a href="#AsyncRepositoryClient.from_configuration-234"><span class="linenos">234</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a client from the given configuration.</span>
</span><span id="AsyncRepositoryClient.from_configuration-235"><a href="#AsyncRepositoryClient.from_configuration-235"><span class="linenos">235</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient.from_configuration-236"><a href="#AsyncRepositoryClient.from_configuration-236"><span class="linenos">236</span></a><span class="sd">        :param config: the configuration for the repository</span>
</span><span id="AsyncRepositoryClient.from_configuration-237"><a href="#AsyncRepositoryClient.from_configuration-237"><span class="linenos">237</span></a><span class="sd">        :param refresh: refresh the configuration by calling get_repository_info</span>
</span><span id="AsyncRepositoryClient.from_configuration-238"><a href="#AsyncRepositoryClient.from_configuration-238"><span class="linenos">238</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient.from_configuration-239"><a href="#AsyncRepositoryClient.from_configuration-239"><span class="linenos">239</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Create a client from the given configuration.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>config</strong>:  the configuration for the repository</li>
<li><strong>refresh</strong>:  refresh the configuration by calling get_repository_info</li>
</ul>
</div>


                            </div>
                            <div id="AsyncRepositoryClient.get_repository_info" class="classattr">
                                        <input id="AsyncRepositoryClient.get_repository_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">get_repository_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="../types.html#RepositoryInfo">nrp_cmd.types.RepositoryInfo</a></span>:</span></span>

                <label class="view-source-button" for="AsyncRepositoryClient.get_repository_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRepositoryClient.get_repository_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRepositoryClient.get_repository_info-241"><a href="#AsyncRepositoryClient.get_repository_info-241"><span class="linenos">241</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_repository_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RepositoryInfo</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.get_repository_info-242"><a href="#AsyncRepositoryClient.get_repository_info-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the repository.</span>
</span><span id="AsyncRepositoryClient.get_repository_info-243"><a href="#AsyncRepositoryClient.get_repository_info-243"><span class="linenos">243</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient.get_repository_info-244"><a href="#AsyncRepositoryClient.get_repository_info-244"><span class="linenos">244</span></a><span class="sd">        This call is cached inside the RepositoryConfig instance.</span>
</span><span id="AsyncRepositoryClient.get_repository_info-245"><a href="#AsyncRepositoryClient.get_repository_info-245"><span class="linenos">245</span></a><span class="sd">        </span>
</span><span id="AsyncRepositoryClient.get_repository_info-246"><a href="#AsyncRepositoryClient.get_repository_info-246"><span class="linenos">246</span></a><span class="sd">        :param refresh: refresh the info from the server</span>
</span><span id="AsyncRepositoryClient.get_repository_info-247"><a href="#AsyncRepositoryClient.get_repository_info-247"><span class="linenos">247</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient.get_repository_info-248"><a href="#AsyncRepositoryClient.get_repository_info-248"><span class="linenos">248</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Get information about the repository.</p>

<p>This call is cached inside the RepositoryConfig instance.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>refresh</strong>:  refresh the info from the server</li>
</ul>
</div>


                            </div>
                            <div id="AsyncRepositoryClient.records" class="classattr">
                                        <input id="AsyncRepositoryClient.records-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">records</span><span class="annotation">: <a href="#AsyncRecordsClient">AsyncRecordsClient</a></span>

                <label class="view-source-button" for="AsyncRepositoryClient.records-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AsyncRepositoryClient.records"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AsyncRepositoryClient.records-252"><a href="#AsyncRepositoryClient.records-252"><span class="linenos">252</span></a>    <span class="nd">@property</span>
</span><span id="AsyncRepositoryClient.records-253"><a href="#AsyncRepositoryClient.records-253"><span class="linenos">253</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncRecordsClient</span><span class="p">:</span>
</span><span id="AsyncRepositoryClient.records-254"><a href="#AsyncRepositoryClient.records-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return client for accessing records.&quot;&quot;&quot;</span>
</span><span id="AsyncRepositoryClient.records-255"><a href="#AsyncRepositoryClient.records-255"><span class="linenos">255</span></a>        <span class="o">...</span>
</span></pre></div>


            <div class="docstring"><p>Return client for accessing records.</p>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>